S2-03 A szerződésalapú programtervezés
=======================================
Tartalom
---------------------------------------

1. [A szerződésalapú programtervezés és -megvalósítás módszere, célja, szerepe](#chapter01)
2. [Szerződések leírását támogató nyelvi eszközök az Eiffel nyelvben](#chapter02)
3. [A szerződések formális jelentése Hoare-hármasokkal](#chapter03)
4. [A szerződések és a típusrendszer viszonya](#chapter04)
5. [Szerződések és objektum-orientáltság: öröklődés és felüldefiniálás](#chapter05)
6. [Üres referenciák](#chapter06)
7. [Kivételek](#chapter07)
8. [További források](#references)

1.A szerződésalapú programtervezés és -megvalósítás módszere, célja, szerepe <a name="#chapter01"></a>
---------------------------------------

### A szerződésalapú programtervezés módszere
A szerződésalapú programtervezés (Design by Contract, DbC) Bertrand Meyer nevéhez fűződik és a 80-as évek közepén
 alakult ki. A módszer három megközelítésen alapszik: a formális verifikáció, formális specifikáció, és a Hoare-hármasok.

Az elképzelés lényege, hogy a rendszer komponensei együttműködésének elősegítéséhez a résztvevők kölcsönösen
kötelezettségeket vállalnak, melyek segítségével biztosítva lesznek a haszonról. Ez a megközelítés nem meglepő módon az
üzleti élettel hozható párhuzamba, ahol a felek az előbb említetteknek megfelelően szerződéseket kötnek.

Példa:

* A _kereskedő_ terméket ad (kötelezettség), és  feltételezi, hogy a _vásárló_ fizetett érte (haszon)
* A _vásárló_ fizet a termékért (kötelezettség), és feltételezi, hogy a _kereskedő_ terméket biztosít (haszon)
* Mindkét résztvevő eleget tesz olyan egyéb megkötéseknek, mint például a jogi szabályok betartása

A fenti példának megfelelően egy Objektum-orientált programban egy osztály egy szolgáltatásának három kérdésre kell
választ adnia:

* Mik az eljárás megfelelő működéséhez szükséges megkötések - **előfeltétel**
* Milyen eredményt garantál az eljárás (az előfeltételben megszabottak alapján) - **utófeltétel**
* Milyen állapotot tart meg az eljárás (amit feltételezünk az eljárás előtt és garantálunk az után) - **invariáns**

### A szerződésalapú megvalósítás módszere
Sok programozási nyelv ad támogatást a DbC-hez hasonló technikához az `assert`-ek segítségével. A szerződésalapú
programtervezés szerint azonban a szoftver megfelelőségéhez alapvető, hogy ezek a szerződések a tervezés szerves részét
képezzék. (A gyakorlatban ez azt jelenti, hogy az `assert`-ek kerülnek először megírásra.) A szerződéseket egyébként
meg lehet fogalmazni comment segítségével, alá lehet támasztani tesztekkel (vagy mindkettő), ha a programnyelv nem ad
más támogatást.

Nyelvek melyek natívan támogatják a szerződésalapú programtervezést: _Eiffel_, _Ada 2012_, _Clojure_, stb.

Nyelvek melyekhez létezik third-party könyvtár: _Java_, _C#_, _C_, _C++_, _Ada_, _JavaScript_, _PHP_, _Python_, _Ruby_,
_Groovy_, stb.

Ahogy az előbb már láthattuk a szerződések a legtöbb programozási nyelvben `assert`-ek segítségével fogalmazható meg.
Azonban ha a program komponensei nem sértik meg a szerződéseket (bug-mentesek), ezek az `assert`-ek nem fognak hibát
jelezni. Mivel ezek az ellenőrzések nagy hatással lehetnek a teljesítményre, így csak _debug_ módban szokták őket
bekapcsolni, _release_ módban ezek a fordítás során törlésre kerülnek.

A szerződésalapú programtervezés szerint a szerződések megszegése kritikus hiba kell legyen. Ez annyit tesz, hogy a
programnak hibát kell jeleznie, ha olyan dolgok történik, ami a szerződések szerint nem megengedett. Így tehát a hívó
fél felelőssége lesz, hogy megfelelően működjön a program. Ezzel a szemlélettel tehát az `assert`-ek használata egy
megfelelő megoldás lehet. Ezzel némileg ellentétes felfogás a defenzív programozás, ahol a szolgáltatónak kell
felkészülnie a különböző nem megengedett esetekre és aszerint eldönteni, hogy mi történjen.

### A szerződésalapú program célja


### A szerződésalapú program szerepe


2.Szerződések leírását támogató nyelvi eszközök az Eiffel nyelvben <a name="#chapter02"></a>
---------------------------------------
3.A szerződések formális jelentése Hoare-hármasokkal <a name="#chapter03"></a>
---------------------------------------
4.A szerződések és a típusrendszer viszonya <a name="#chapter04"></a>
---------------------------------------
5.Szerződések és objektum-orientáltság: öröklődés és felüldefiniálás <a name="#chapter05"></a>
---------------------------------------
6.Üres referenciák <a name="#chapter06"></a>
---------------------------------------
7.Kivételek <a name="#chapter07"></a>
---------------------------------------
8.További források <a name="#references"></a>
---------------------------------------
* https://en.wikipedia.org/wiki/Design_by_contract
* https://archive.eiffel.com/doc/manuals/technology/contract/
* http://se.ethz.ch/~meyer/publications/computer/contract.pdf